!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jsBundle=t():e.jsBundle=t()}(window,function(){return(window.webpackJsonpjsBundle=window.webpackJsonpjsBundle||[]).push([[4],{Qf4P:function(e,t,a){"use strict";function s(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}a.d(t,"a",function(){return s})},Y5Lq:function(e,t,a){"use strict";t.a={methods:{updateStoreValues:function(e){var t=e.updates,a=e.storeModule;this.$store.dispatch(a+"/updateValues",t)}}}},mAjP:function(e,t,a){},uSO4:function(e,t,a){"use strict";a.r(t);var s=a("Kw5r"),i=a("L2JU"),r=a("4AYQ"),n=a("+1rD"),o=a("jE9Z"),l=a("0uES"),u=a("iozr"),d=a("j8bt"),m=a("4vlq"),c=a("K4Nq"),_=a("tU1E"),v=a("U4gO"),p=a("vyYF"),h=a("Y5Ni"),b=a("SCWJ"),g={name:"SelectList",mixins:[v.a,p.a,h.a,b.a],props:{name:{type:String,required:!0},listOfChoices:{type:Array,required:!0},labelText:{type:String,required:!0},required:{type:Boolean,default:!0},selectListStoreModule:{type:String,required:!0}},computed:{isSelected:function(){return this.getStoreValue({storeModule:this.selectListStoreModule,key:this.name})},connector:function(){return!!this.hasLabel&&"_"+this.randConnector}},methods:{onChange:function(e){this.updateStoreValue({storeModule:this.selectListStoreModule,key:this.name,value:this.listOfChoices[e].value})}}},f=a("JFUb"),x=Object(f.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classes},[a("label",{attrs:{for:"state-select-list"}},[e._v("\n    "+e._s(e.labelText)+"\n  ")]),e._v(" "),a("select",{attrs:{id:"state-select-list","aria-labelledby":e.ariaLabelledby,"aria-describedby":e.ariaDescribedby},on:{change:function(t){e.onChange(t.target.selectedIndex)}}},e._l(e.listOfChoices,function(t,s){return a("option",{key:s+"_"+t.value,attrs:{id:s},domProps:{selected:t.value==e.isSelected,value:t.value}},[e._v("\n      "+e._s(t.text)+"\n    ")])}))])},[],!1,null,null,null).exports,y=a("ZVqu"),w=a("joBu"),C=a("Szt3"),S=a("69xE"),E=a("Y5Lq"),V=a("Qf4P"),M="The Texas Tribune Business Membership",k=[{header:"Big Tex",amount:2500},{header:"Lone Star",amount:1500},{header:"Hat's Off!",amount:500}],F={oneStr:"1",onceStr:"once",oneTimeStr:"one-time",openStr:"Open",noneStr:"None",monthlyStr:"monthly",yearlyStr:"yearly",annuallyStr:"annually"},O={installmentPeriod:F.monthlyStr,installmentsPerYear:12,installments:F.noneStr,openEndedStatus:F.openStr,uiInstallmentPeriod:F.monthlyStr},N={installmentPeriod:F.yearlyStr,installmentsPerYear:1,installments:F.noneStr,openEndedStatus:F.openStr,uiInstallmentPeriod:F.annuallyStr},T="True",I={levelAMonthly:{bucket:"levelA",amount:Math.round(k[0].amount/O.installmentsPerYear).toString(),paymentDetails:O,payFees:T},levelAYearly:{bucket:"levelA",amount:(k[0].amount/N.installmentsPerYear).toString(),paymentDetails:N,payFees:T},levelBMonthly:{bucket:"levelB",amount:Math.round(k[1].amount/O.installmentsPerYear).toString(),paymentDetails:O,payFees:T},levelBYearly:{bucket:"levelB",amount:(k[1].amount/N.installmentsPerYear).toString(),paymentDetails:N,payFees:T},levelCMonthly:{bucket:"levelC",amount:Math.round(k[2].amount/O.installmentsPerYear).toString(),paymentDetails:O,payFees:T},levelCYearly:{bucket:"levelC",amount:(k[2].amount/N.installmentsPerYear).toString(),paymentDetails:N,payFees:T}},P="levelAYearly",A="levelAOneTime",D="TX",Y={campaignId:"",referralId:"",installments:I[P].paymentDetails.installments,installmentPeriod:I[P].paymentDetails.installmentPeriod,installment_period:I[P].paymentDetails.installmentPeriod,openended_status:I[P].paymentDetails.openEndedStatus},B=18,j=6,R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},L={name:"Choices",components:{Radios:S.a},mixins:[b.a,E.a],data:function(){return{selectedGroup:this.getInitialSelectedGroup(),groups:[{id:0,bucket:"levelA",heading:k[0].header,options:this.buildOptions(["levelAYearly","levelAMonthly"])},{id:1,bucket:"levelB",heading:k[1].header,options:this.buildOptions(["levelBYearly","levelBMonthly"])},{id:2,bucket:"levelC",heading:k[2].header,options:this.buildOptions(["levelCYearly","levelCMonthly"])}]}},methods:{buildText:function(e){var t=e.uiInstallmentPeriod,a=e.amount;return"$"+Object(V.a)(a)+" "+t},buildOptions:function(e){var t=this,a=[],s=[];return e.forEach(function(e){s.push(R({},I[e],{name:e}))}),s.forEach(function(e,s){var i=e.amount,r=e.name,n=e.paymentDetails.uiInstallmentPeriod;a.push({id:s,value:r,text:t.buildText({uiInstallmentPeriod:n,amount:i})})}),a},getInitialSelectedGroup:function(){var e=this.getStoreValue({storeModule:"businessForm",key:"level"});return I[e].bucket},onUpdate:function(e){var t=I[e],a=t.amount,s=t.bucket,i=t.paymentDetails,r={installment_period:i.installmentPeriod,installments:i.installments,openended_status:i.openEndedStatus,amount:a};this.setSelectedGroup(s),this.updateStoreValues({storeModule:"businessForm",updates:r})},setSelectedGroup:function(e){this.selectedGroup=e},getGroupHeadingConnector:function(e){return e.bucket+"-heading-"+e.id}}},G=Object(f.a)(L,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid_row grid_wrap--m"},e._l(e.groups,function(t){return a("div",{key:t.id,staticClass:"business-form__bucket col_4 grid_separator",class:{selected:e.selectedGroup===t.bucket}},[a("p",{staticClass:"business-form__bucket-header grid_separator",attrs:{id:e.getGroupHeadingConnector(t)}},[e._v("\n      "+e._s(t.heading)),a("br")]),e._v(" "),a("radios",{attrs:{options:t.options,"aria-labelledby":e.getGroupHeadingConnector(t),"aria-describedby":"business-form-hed business-form__intro","base-classes":"form__radios form__radios--always-stack form__radios--serif",name:"level","store-module":"businessForm"},on:{updateCallback:e.onUpdate}})],1)}))},[],!1,null,null,null).exports,H=Object(f.a)(null,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"grid_container--m business-benefits grid_separator--l"},[a("header",[a("p",{staticClass:"business-benefits__header link--blue grid_separator"},[e._v("Business member benefits")])]),e._v(" "),a("h4",{staticClass:"smallcaps--light grid_separator--xs"},[e._v("Included with every business membership")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Organization name featured on texastribune.org support\n  page, Business Membership tab, with link to business site")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Organization name featured in a thank you segment of The\n  Brief once annually")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Included in distribution list for TribMonth, an exclusive\n  communication")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("First opportunity to RSVP for select Texas Tribune\n  events")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Special fee to reserve Studio 919, the Tribune's event studio")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Discounted Texas Tribune Festival pass")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Texas Tribune Business Membership window decal or 4x6\n  printed card")]),e._v(" "),a("h4",{staticClass:"smallcaps--light grid_separator--xs"},[e._v("At higher levels")]),e._v(" "),a("p",{staticClass:"business-benefits__item grid_separator--s"},[e._v("Annual subscription to The Blast, the best daily premium\n  political newsletter in Texas, for insiders who want the behind-the-scenes scoop")]),e._v(" "),a("p",{staticClass:"business-benefits__item link--blue grid_separator"},[e._v("If you are interested in a custom marketing / messaging program, learn more from "),a("a",{attrs:{href:"https://mediakit.texastribune.org/index.html"}},[e._v("our media kit")]),e._v(" or contact April Hinkle directly at "),a("a",{attrs:{href:"mailto:ahinkle@texastribune.org"}},[e._v("ahinkle@texastribune.org")])])])}],!1,null,null,null).exports,q=a("XmGf"),U=[{value:"AL",text:"Alabama"},{value:"AK",text:"Alaska"},{value:"AZ",text:"Arizona"},{value:"AR",text:"Arkansas"},{value:"CA",text:"California"},{value:"CO",text:"Colorado"},{value:"CT",text:"Connecticut"},{value:"DE",text:"Delaware"},{value:"DC",text:"District of Columbia"},{value:"FL",text:"Florida"},{value:"GA",text:"Georgia"},{value:"HI",text:"Hawaii"},{value:"ID",text:"Idaho"},{value:"IL",text:"Illinois"},{value:"IN",text:"Indiana"},{value:"IA",text:"Iowa"},{value:"KS",text:"Kansas"},{value:"KY",text:"Kentucky"},{value:"LA",text:"Louisiana"},{value:"ME",text:"Maine"},{value:"MD",text:"Maryland"},{value:"MA",text:"Massachusetts"},{value:"MI",text:"Michigan"},{value:"MN",text:"Minnesota"},{value:"MS",text:"Mississippi"},{value:"MO",text:"Missouri"},{value:"MT",text:"Montana"},{value:"NE",text:"Nebraska"},{value:"NV",text:"Nevada"},{value:"NH",text:"New Hampshire"},{value:"NJ",text:"New Jersey"},{value:"NM",text:"New Mexico"},{value:"NY",text:"New York"},{value:"NC",text:"North Carolina"},{value:"ND",text:"North Dakota"},{value:"OH",text:"Ohio"},{value:"OK",text:"Oklahoma"},{value:"OR",text:"Oregon"},{value:"PA",text:"Pennsylvania"},{value:"RI",text:"Rhode Island"},{value:"SC",text:"South Carolina"},{value:"SD",text:"South Dakota"},{value:"TN",text:"Tennessee"},{value:"TX",text:"Texas"},{value:"UT",text:"Utah"},{value:"VT",text:"Vermont"},{value:"VA",text:"Virginia"},{value:"WA",text:"Washington"},{value:"WV",text:"West Virginia"},{value:"WI",text:"Wisconsin"},{value:"WY",text:"Wyoming"}],K={name:"BusinessForm",components:{Hidden:u.a,LocalHidden:m.a,TextInput:_.a,SelectList:x,PayFees:c.a,Level:d.a,ManualPay:y.a,ManualSubmit:w.a,NativePay:C.a,Choices:G,StatelessEmbeddedBenefits:H},mixins:[q.a,h.a],data:function(){return{serverErrorMessage:window.__TOP_FORM_SERVER_ERROR_MESSAGE__,validation:{stripeEmail:{manual:!0,native:!0,valid:!1,message:"Enter a valid email address",validator:this.isEmail},business_name:{manual:!0,native:!0,valid:!1,message:"Enter a business name",validator:this.isNotEmpty},website:{manual:!0,native:!0,valid:!1,message:"Enter a website, including https:// or http://",validator:this.isURL},shipping_street:{manual:!0,native:!0,valid:!1,message:"Enter a street/mailing address",validator:this.isNotEmpty},shipping_city:{manual:!0,native:!0,valid:!1,message:"Enter a city",validator:this.isNotEmpty},shipping_postalcode:{manual:!0,native:!0,valid:!1,message:"Enter a 5-digit zip code",validator:this.isZip},first_name:{manual:!0,native:!0,valid:!1,message:"Enter contact first name",validator:this.isNotEmpty},last_name:{manual:!0,native:!0,valid:!1,message:"Enter contact last name",validator:this.isNotEmpty}},list_of_choices:U}}},$=Object(f.a)(K,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{ref:"form",staticClass:"form business-form",attrs:{action:"/business",method:"post"},on:{submit:function(e){e.preventDefault()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showServerErrorMessage,expression:"showServerErrorMessage"}],staticClass:"grid_container--l grid_separator"},[a("div",{staticClass:"grid_row"},[a("div",{staticClass:"col"},[a("p",{staticClass:"form__error form__error--prominent"},[e._v(e._s(e.serverErrorMessage))])])])]),e._v(" "),a("div",{staticClass:"grid_container--l grid_separator"},[a("div",{staticClass:"grid_row"},[a("div",{staticClass:"col"},[a("choices")],1)])]),e._v(" "),a("div",{staticClass:"grid_container--m"},[a("StatelessEmbeddedBenefits"),e._v(" "),a("div",{staticClass:"grid_row grid_separator"},[a("div",{staticClass:"col"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.stripeEmail,"label-text":"email address",maxlength:"80",type:"email","base-classes":"form__text form__text--standard",name:"stripeEmail","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_wrap--s"},[a("div",{staticClass:"col_6 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.business_name,"label-text":"organization name",maxlength:"255","base-classes":"form__text form__text--standard",name:"business_name","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1),e._v(" "),a("div",{staticClass:"col_6 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.website,"label-text":"website",maxlength:"255","base-classes":"form__text form__text--standard",name:"website","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_separator"},[a("div",{staticClass:"col"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.shipping_street,"label-text":"street address",maxlength:"255","base-classes":"form__text form__text--standard",name:"shipping_street","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_separator grid_wrap--s"},[a("div",{staticClass:"col_6 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.shipping_city,"label-text":"city",maxlength:"40","base-classes":"form__text form__text--standard",name:"shipping_city","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1),e._v(" "),a("div",{staticClass:"col_4 grid_separator"},[a("select-list",{attrs:{"list-of-choices":e.list_of_choices,"label-text":"state","base-classes":"form__text form__text--standard",name:"shipping_state","select-list-store-module":"businessForm"}})],1),e._v(" "),a("div",{staticClass:"col_2 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.shipping_postalcode,"label-text":"zip code",maxlength:"5","base-classes":"form__text form__text--standard",name:"shipping_postalcode","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_wrap--s"},[a("div",{staticClass:"col_6 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.first_name,"label-text":"contact first name","base-classes":"form__text form__text--standard",name:"first_name","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1),e._v(" "),a("div",{staticClass:"col_6 grid_separator"},[a("text-input",{attrs:{"show-error":e.showManualErrors||e.showNativeErrors,validation:e.validation.last_name,"label-text":"contact last name","base-classes":"form__text form__text--standard",name:"last_name","store-module":"businessForm"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_separator grid_wrap--s"},[a("div",{staticClass:"col grid_separator"},[a("text-input",{attrs:{required:!1,"label-text":"encouraged to give by",maxlength:"255","base-classes":"form__text form__text--standard",name:"reason","store-module":"businessForm"}})],1)]),e._v(" "),a("div",{staticClass:"grid_row grid_separator"},[a("div",{staticClass:"col"},[a("pay-fees",{attrs:{"base-classes":"form__fees","amount-store-module":"businessForm","pay-fees-value-store-module":"businessForm","installment-period-store-module":"businessForm"}})],1)]),e._v(" "),a("div",{staticClass:"grid_row"},[a("div",{staticClass:"col"},[a("native-pay",{attrs:{"form-is-valid":e.nativeIsValid,supported:e.nativeIsSupported,"base-classes":"form__native","amount-store-module":"businessForm"},on:{setValue:e.setValue,onSubmit:e.onSubmit}})],1)]),e._v(" "),e.nativeIsSupported&&e.showManualPay?a("div",{staticClass:"grid_separator--l",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),a("div",{attrs:{"aria-live":!!e.nativeIsSupported&&"polite"}},[e.showManualPay?a("div",[a("div",{staticClass:"grid_row"},[a("div",{staticClass:"col"},[a("manual-pay",{attrs:{"show-error":e.showManualErrors,validation:e.validation.card,"base-classes":"form__manual"},on:{setValidationValue:e.setValidationValue}})],1)]),e._v(" "),a("div",{staticClass:"grid_row"},[a("div",{staticClass:"col"},[a("manual-submit",{attrs:{"form-is-valid":e.manualIsValid,"is-fetching-token":e.isFetchingToken,"base-classes":"form__submit button button--yellow button--l",value:"Donate"},on:{onSubmit:e.onSubmit,setValue:e.setValue,setValidationValue:e.setValidationValue}})],1)])]):e._e(),e._v(" "),a("p",{staticClass:"subtext"},[e._v("The Texas Tribune is a 501(c)(3), and your organization's gift is tax deductible")])]),e._v(" "),e.showErrorClue?a("div",{staticClass:"grid_separator--l",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.showErrorClue?a("div",{staticClass:"grid_row",attrs:{"aria-hidden":"true"}},[e._m(0)]):e._e(),e._v(" "),a("local-hidden",{attrs:{value:e.stripeToken,name:"stripeToken"}}),e._v(" "),a("hidden",{attrs:{name:"campaign_id","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"referral_id","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"installments","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"description","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"pay_fees_value","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"openended_status","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"installment_period","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"amount","store-module":"businessForm"}}),e._v(" "),a("hidden",{attrs:{name:"shipping_state","store-module":"businessForm"}})],1)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col"},[t("p",{staticClass:"form__error form__error--normal form__error--centered"},[this._v("Please correct errors above")])])}],!1,null,null,null).exports;var z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};function W(e){var t,a,s,i,r=P,n=void 0;Object.keys(e).length<=j?(t=e,a=Y,s=B,n=Object.keys(a).reduce(function(e,i){return void 0!==t[i]?a[i]=t[i].substring(0,s):a},{})):n=Y,n.installmentPeriod.toLowerCase()===F.onceStr&&((i=n).installments=F.oneStr,i.installment_period=F.noneStr,i.openended_status=F.noneStr,n=i,r=A);var o=I[r];return{level:r,amount:o.amount,pay_fees_value:o.payFees,campaign_id:n.campaignId,referral_id:n.referralId,installment_period:n.installment_period,installments:n.installments,openended_status:n.openended_status}}s.a.use(o.a);var J=a("YMgK"),Z=a("K4Ev"),Q=(a("mAjP"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e});a("E2g8").polyfill(),s.a.use(i.a),s.a.mixin(J.a),s.a.mixin(Z.a);var X,ee,te,ae=new i.a.Store({modules:{businessForm:n.a}}),se=new o.a({base:"/business",mode:"history",routes:[{path:"/",component:l.a}]}),ie=new s.a(Q({},r.a,{router:se}));ee=ie,te=ae,(X=se).onReady(function(){var e=new s.a(z({},$,{store:te})),t=X.currentRoute.query;te.dispatch("businessForm/createInitialState",function(e){if(window.__BUSINESS_FORM_REHYDRATION__)return window.__BUSINESS_FORM_REHYDRATION__;var t=W(e);return z({},{stripeEmail:"",business_name:"",website:"",shipping_street:"",shipping_city:"",shipping_state:D,shipping_postalcode:"",first_name:"",last_name:"",description:M,reason:"",pay_fees_value:T},t)}(t)),ee.$mount("#app"),e.$mount("#business-form")})}},[["uSO4",0,1,2]]])});