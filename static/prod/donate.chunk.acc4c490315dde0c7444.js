!function(a,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsBundle=e():a.jsBundle=e()}(window,function(){return(window.webpackJsonpjsBundle=window.webpackJsonpjsBundle||[]).push([[7],{LZwM:function(a,e,t){},TDr2:function(a,e,t){"use strict";t.r(e);var s=t("Kw5r"),r=t("L2JU"),o=t("4AYQ"),i=t("+1rD"),n=t("jE9Z"),l=t("0uES"),d=t("iozr"),m=t("4vlq"),u=t("69xE"),_=t("j8bt"),v=t("K4Nq"),c=t("tU1E"),p=t("ZVqu"),f=t("joBu"),h=t("Szt3"),b=t("Y5Ni"),w=t("XmGf"),y={name:"TopForm",components:{Hidden:d.a,LocalHidden:m.a,TextInput:c.a,Radios:u.a,PayFees:v.a,Level:_.a,ManualPay:p.a,ManualSubmit:f.a,NativePay:h.a},mixins:[w.a,b.a],data:function(){return{serverErrorMessage:window.__TOP_FORM_SERVER_ERROR_MESSAGE__,frequencyOptions:[{id:0,text:"One-time donation",value:"None"},{id:1,text:"Monthly donation",value:"monthly"},{id:2,text:"Yearly donation",value:"yearly"}],validation:{stripeEmail:{manual:!0,native:!0,valid:!1,message:"Enter a valid email address",validator:this.isEmail},first_name:{manual:!0,native:!0,valid:!1,message:"Enter your first name",validator:this.isNotEmpty},last_name:{manual:!0,native:!0,valid:!1,message:"Enter your last name",validator:this.isNotEmpty},amount:{manual:!0,native:!0,valid:!1,message:"Enter numeric amount above $1",validator:this.isValidDonationAmount},zipcode:{manual:!0,native:!0,valid:!1,message:"Enter a 5-digit zip code",validator:this.isEmptyOrZip},reason:{manual:!0,native:!0,valid:!1,message:"Must be 255 characters or fewer",validator:this.isValidReason}}}},methods:{onFrequencyUpdate:function(a){var e="";"yearly"===a||"monthly"===a?e="Open":"None"===a&&(e="None"),this.updateStoreValue({storeModule:"baseForm",key:"openended_status",value:e})}}},g=t("JFUb"),E=Object(g.a)(y,function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("form",{ref:"form",staticClass:"form",attrs:{action:"/donate",method:"post"},on:{submit:function(a){a.preventDefault()}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.showServerErrorMessage,expression:"showServerErrorMessage"}],staticClass:"grid_row grid_separator"},[t("div",{staticClass:"col"},[t("p",{staticClass:"form__error form__error--prominent"},[a._v(a._s(a.serverErrorMessage))])])]),a._v(" "),t("div",{staticClass:"grid_row"},[t("div",{staticClass:"col"},[t("radios",{attrs:{options:a.frequencyOptions,"base-classes":"form__radios form__radios--stack-at-medium",name:"installment_period","store-module":"baseForm"},on:{updateCallback:a.onFrequencyUpdate}})],1)]),a._v(" "),t("div",{staticClass:"grid_row grid_separator--xs"},[t("div",{staticClass:"col"},[t("text-input",{attrs:{"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.amount,"label-text":"amount ($)","base-classes":"form__text form__text--heavy",name:"amount","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1)]),a._v(" "),a._m(0),a._v(" "),t("div",{staticClass:"grid_row grid_separator"},[t("div",{staticClass:"col"},[t("text-input",{attrs:{"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.stripeEmail,"label-text":"email address",type:"email","base-classes":"form__text form__text--standard",name:"stripeEmail","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1)]),a._v(" "),t("div",{staticClass:"grid_row grid_wrap--s"},[t("div",{staticClass:"col_6 grid_separator"},[t("text-input",{attrs:{"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.first_name,"label-text":"first name","base-classes":"form__text form__text--standard",name:"first_name","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1),a._v(" "),t("div",{staticClass:"col_6 grid_separator"},[t("text-input",{attrs:{"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.last_name,"label-text":"last name","base-classes":"form__text form__text--standard",name:"last_name","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1)]),a._v(" "),t("div",{staticClass:"grid_row grid_wrap--s"},[t("div",{staticClass:"col_6 grid_separator"},[t("text-input",{attrs:{required:!1,"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.reason,"label-text":"encouraged to give by","base-classes":"form__text form__text--standard",name:"reason","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1),a._v(" "),t("div",{staticClass:"col_6 grid_separator"},[t("text-input",{attrs:{required:!1,"show-error":a.showManualErrors||a.showNativeErrors,validation:a.validation.zipcode,"label-text":"zip code","base-classes":"form__text form__text--standard",name:"zipcode","store-module":"baseForm"},on:{setValidationValue:a.setValidationValue}})],1)]),a._v(" "),t("div",{staticClass:"grid_row grid_separator"},[t("div",{staticClass:"col"},[t("pay-fees",{attrs:{"base-classes":"form__fees","amount-store-module":"baseForm","pay-fees-value-store-module":"baseForm","installment-period-store-module":"baseForm"}})],1)]),a._v(" "),t("div",{staticClass:"grid_row"},[t("div",{staticClass:"col"},[t("native-pay",{attrs:{"form-is-valid":a.nativeIsValid,supported:a.nativeIsSupported,"base-classes":"form__native","amount-store-module":"baseForm"},on:{setValue:a.setValue,onSubmit:a.onSubmit}})],1)]),a._v(" "),a.nativeIsSupported&&a.showManualPay?t("div",{staticClass:"grid_separator--l",attrs:{"aria-hidden":"true"}}):a._e(),a._v(" "),t("div",{attrs:{"aria-live":!!a.nativeIsSupported&&"polite"}},[a.showManualPay?t("div",[t("div",{staticClass:"grid_row"},[t("div",{staticClass:"col"},[t("manual-pay",{attrs:{"show-error":a.showManualErrors,validation:a.validation.card,"base-classes":"form__manual"},on:{setValidationValue:a.setValidationValue}})],1)]),a._v(" "),t("div",{staticClass:"grid_row"},[t("div",{staticClass:"col"},[t("manual-submit",{attrs:{"form-is-valid":a.manualIsValid,"is-fetching-token":a.isFetchingToken,"base-classes":"form__submit button button--yellow button--l",value:"Donate"},on:{onSubmit:a.onSubmit,setValue:a.setValue,setValidationValue:a.setValidationValue}})],1)])]):a._e()]),a._v(" "),a.showErrorClue?t("div",{staticClass:"grid_separator--l",attrs:{"aria-hidden":"true"}}):a._e(),a._v(" "),a.showErrorClue?t("div",{staticClass:"grid_row",attrs:{"aria-hidden":"true"}},[a._m(1)]):a._e(),a._v(" "),t("local-hidden",{attrs:{value:a.stripeToken,name:"stripeToken"}}),a._v(" "),t("hidden",{attrs:{name:"installments","store-module":"baseForm"}}),a._v(" "),t("hidden",{attrs:{name:"description","store-module":"baseForm"}}),a._v(" "),t("hidden",{attrs:{name:"campaign_id","store-module":"baseForm"}}),a._v(" "),t("hidden",{attrs:{name:"referral_id","store-module":"baseForm"}}),a._v(" "),t("hidden",{attrs:{name:"openended_status","store-module":"baseForm"}}),a._v(" "),t("hidden",{attrs:{name:"pay_fees_value","store-module":"baseForm"}})],1)},[function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"grid_row grid_separator"},[e("div",{staticClass:"col"},[e("p",{staticClass:"subtext"},[this._v("For three-year commitments of $1,000 or more, join our "),e("a",{attrs:{href:"/circleform"}},[this._v("Circle Membership program")]),this._v(".")])])])},function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"col"},[e("p",{staticClass:"form__error form__error--normal form__error--centered"},[this._v("Please correct errors above")])])}],!1,null,null,null).exports,V=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a};s.a.use(n.a);var x=t("YMgK"),C=t("K4Ev"),F=(t("LZwM"),Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a});t("E2g8").polyfill(),s.a.use(r.a),s.a.mixin(x.a),s.a.mixin(C.a);var M,O,N,S=new r.a.Store({modules:{baseForm:i.a}}),j=new n.a({base:"/donate",mode:"history",routes:[{path:"/",component:l.a}]}),R=new s.a(F({},o.a,{router:j}));O=R,N=S,(M=j).onReady(function(){var a=new s.a(V({},E,{store:N})),e=M.currentRoute.query;N.dispatch("baseForm/createInitialState",function(a){if(window.__BASE_FORM_REHYDRATION__)return window.__BASE_FORM_REHYDRATION__;var e=void 0,t=a.amount,s=a.installmentPeriod,r=void 0===s?"monthly":s,o=a.campaignId,i=void 0===o?"":o,n=a.referralId,l=void 0===n?"":n;switch(r.toLowerCase()){case"once":e="None",r="None",t=t||"60";break;case"monthly":e="Open",t=t||"35";break;case"yearly":e="Open",t=t||"75";break;default:r="monthly",e="Open",t=t||"35"}return V({},{stripeEmail:"",first_name:"",last_name:"",description:"The Texas Tribune Membership",reason:"",zipcode:"",installments:"None",pay_fees_value:"False"},{amount:t,campaign_id:i,referral_id:l,installment_period:r,openended_status:e})}(e)),O.$mount("#app"),a.$mount("#top-form")})}},[["TDr2",0,1,2]]])});