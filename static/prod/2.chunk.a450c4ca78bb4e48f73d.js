(window.webpackJsonpjsBundle=window.webpackJsonpjsBundle||[]).push([[2],{"+1rD":function(e,t,a){"use strict";var n=a("Kw5r"),i={UPDATE:function(e,t){var a=t.key,i=t.value;n.a.set(e,a,i)},CREATE:function(e,t){Object.keys(t).forEach(function(a){n.a.set(e,a,t[a])})}},r={updateValue:function(e,t){(0,e.commit)("UPDATE",{key:t.key,value:t.value})},updateValues:function(e,t){var a=e.commit;Object.keys(t).forEach(function(e){a("UPDATE",{key:e,value:t[e]})})},createInitialState:function(e,t){(0,e.commit)("CREATE",t)}};t.a={namespaced:!0,state:{},mutations:i,actions:r,getters:{valueByKey:function(e){return function(t){return e[t]}}}}},"0uES":function(e,t,a){"use strict";var n=a("JFUb"),i=Object(n.a)({name:"RouteHandler"},function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{display:"none"}})},[],!1,null,null,null);t.a=i.exports},"4AYQ":function(e,t,a){"use strict";var n=a("JFUb"),i=Object(n.a)({name:"App"},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},[],!1,null,null,null);t.a=i.exports},"4vlq":function(e,t,a){"use strict";var n={name:"LocalHidden",props:{name:{type:String,required:!0},value:{type:String,required:!0}}},i=a("JFUb"),r=Object(i.a)(n,function(){var e=this.$createElement;return(this._self._c||e)("input",{attrs:{name:this.name,type:"hidden"},domProps:{value:this.value}})},[],!1,null,null,null);t.a=r.exports},"69xE":function(e,t,a){"use strict";var n=a("8FK+"),i=a("vyYF"),r={name:"Frequency",mixins:[a("U4gO").a,i.a,n.a],props:{options:{type:Array,required:!0}},methods:{getConnector:function(e){return"_"+this.randConnector+"-"+e}}},s=a("JFUb"),o=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{class:e.classes},e._l(e.options,function(t,n){return a("li",{key:t.id},[a("input",{attrs:{"aria-labelledby":e.ariaLabelledby,"aria-describedby":e.ariaDescribedby,name:e.name,id:e.getConnector(n),type:"radio"},domProps:{value:t.value,checked:e.value===t.value},on:{change:function(t){e.updateSingleValue(t.target.value)}}}),e._v(" "),a("label",{attrs:{for:e.getConnector(n)}},[e._v("\n      "+e._s(t.text)+"\n    ")])])}))},[],!1,null,null,null);t.a=o.exports},"8FK+":function(e,t,a){"use strict";t.a={props:{name:{type:String,required:!0},showError:{type:Boolean,default:!1},storeModule:{type:String,required:!0},validation:{type:Object,default:null}},computed:{value:function(){return(0,this.$store.getters[this.storeModule+"/valueByKey"])(this.name)},valid:function(){return!this.validation||this.validation.valid},errorMessage:function(){return this.validation?this.validation.message:""}},mounted:function(){this.validation&&this.validation.validator(this.value)&&this.markValid()},methods:{updateSingleValue:function(e){this.validation?(this.validation.validator(e)?(this.markValid(),this.fireUpdateCallback(e)):this.markInvalid(),this.fireDispatch(e)):(this.fireDispatch(e),this.fireUpdateCallback(e))},fireDispatch:function(e){this.$store.dispatch(this.storeModule+"/updateValue",{key:this.name,value:e})},fireUpdateCallback:function(e){this.$emit("updateCallback",e)},markValid:function(){this.$emit("setValidationValue",{element:this.name,key:"valid",value:!0})},markInvalid:function(){this.$emit("setValidationValue",{element:this.name,key:"valid",value:!1})}}}},K4Ev:function(e,t,a){"use strict";t.a={props:{gtm:{type:[Object,Boolean],default:!1}},computed:{gtmOn:function(){return!!this.gtm&&this.gtm.on},gtmLabel:function(){return!!this.gtm&&this.gtm.label},gtmAction:function(){return!!this.gtm&&this.gtm.action},gtmValue:function(){return this.gtm&&this.gtm.value||!1}},methods:{getGtmOn:function(e){var t=e.obj,a=void 0===t?this:t,n=e.elName;return a[n?n+"Gtm":"gtm"].on},getGtmLabel:function(e){var t=e.obj,a=void 0===t?this:t,n=e.elName;return a[n?n+"Gtm":"gtm"].label},getGtmAction:function(e){var t=e.obj,a=void 0===t?this:t,n=e.elName;return a[n?n+"Gtm":"gtm"].action},getGtmValue:function(e){var t=e.obj,a=void 0===t?this:t,n=e.elName;return a[n?n+"Gtm":"gtm"].value||!1}}}},K4Nq:function(e,t,a){"use strict";var n=a("a1gY"),i=a.n(n),r=a("Y5Ni"),s=a("SCWJ"),o={name:"PayFees",mixins:[r.a,s.a],props:{amountStoreModule:{type:String,required:!0},installmentPeriodStoreModule:{type:String,required:!0},payFeesValueStoreModule:{type:String,required:!0}},computed:{feeAmount:function(){var e=this.getStoreValue({storeModule:this.amountStoreModule,key:"amount"});if(!this.isValidAmount(e))return!1;var t=((e=parseFloat(e.trim()))+.3)/.978;return"$"+(Math.floor(100*(t-e))/100).toFixed(2)},installmentPeriod:function(){var e=this.getStoreValue({storeModule:this.installmentPeriodStoreModule,key:"installment_period"});return"None"===e?"":e.toLowerCase()},isChecked:function(){return"True"===this.getStoreValue({storeModule:this.payFeesValueStoreModule,key:"pay_fees_value"})}},methods:{onChange:function(e){this.updateStoreValue({storeModule:this.payFeesValueStoreModule,key:"pay_fees_value",value:e?"True":"False"})},isValidAmount:function(e){return void 0===i()({value:e.trim()},{value:{numericality:{greaterThanOrEqualTo:1}}})}}},u=a("JFUb"),l=Object(u.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"aria-live":"polite"}},[a("div",{class:e.classes},[a("input",{attrs:{id:"pay-fees",type:"checkbox"},domProps:{checked:e.isChecked},on:{change:function(t){e.onChange(t.target.checked)}}}),e._v(" "),a("label",{attrs:{for:"pay-fees"}},[e._v("\n      I agree to pay\n      "),e.feeAmount?a("span",[e._v("\n        "+e._s(e.feeAmount)+"\n      ")]):e._e(),e._v(" "),a("span",[e._v(e._s(e.installmentPeriod))]),e._v("\n      for processing fees. This directs more money to our mission.\n    ")])])])},[],!1,null,null,null);t.a=l.exports},SCWJ:function(e,t,a){"use strict";t.a={methods:{getStoreValue:function(e){var t=e.storeModule,a=e.key;return(0,this.$store.getters[t+"/valueByKey"])(a)}}}},Szt3:function(e,t,a){"use strict";var n=a("Kw5r"),i={name:"NativePay",props:{supported:{type:Boolean,required:!0},amountStoreModule:{type:String,required:!0},formIsValid:{type:Boolean,required:!0}},computed:{amount:function(){var e=this.$store.getters[this.amountStoreModule+"/valueByKey"],t=(100*parseFloat(e("amount"))).toFixed();return Number(t)}},watch:{amount:function(e){if(!isNaN(parseFloat(e))){var t={label:"Texas Tribune Donation",amount:e};this.paymentRequest.update({total:t})}}},mounted:function(){this.buildNativePayment()},methods:{buildNativePayment:function(){var e=this,t=new Stripe(window.__STRIPE_KEY__),a=t.paymentRequest({country:"US",currency:"usd",total:{label:"Texas Tribune Donation",amount:this.amount}}),i=t.elements().create("paymentRequestButton",{paymentRequest:a,style:{paymentRequestButton:{type:"donate"}}});this.paymentRequest=a,a.canMakePayment().then(function(t){if(!t)throw new Error;e.$emit("setValue",{key:"nativeIsSupported",value:!0}),i.mount(e.$refs.native)}).catch(function(){e.$emit("setValue",{key:"showManualPay",value:!0})}),i.on("click",function(t){e.$emit("setValue",[{key:"showManualErrors",value:!1},{key:"showNativeErrors",value:!0},{key:"serverErrorMessage",value:""}]),e.formIsValid||t.preventDefault()}),a.on("token",function(t){var a=t.token.id;e.$emit("setValue",{key:"stripeToken",value:a}),t.complete("success"),n.a.nextTick(function(){e.$emit("onSubmit")})})},showManual:function(e){e.preventDefault(),this.$emit("setValue",{key:"showManualPay",value:!0})}}},r=a("JFUb"),s=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.supported,expression:"supported"}],class:e.classes},[a("div",{ref:"native"}),e._v(" "),a("p",[a("a",{attrs:{href:"",role:"button"},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key," ")?t.preventDefault(t):null},click:e.showManual,keyup:function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key," ")?e.showManual(t):null}}},[e._v("\n      Or enter credit card manually\n    ")])])])},[],!1,null,null,null);t.a=s.exports},U4gO:function(e,t,a){"use strict";t.a={props:{ariaLabelledby:{type:String,default:""},ariaDescribedby:{type:String,default:""}}}},XmGf:function(e,t,a){"use strict";var n=a("a1gY"),i=a.n(n);t.a={data:function(){return{validation:{card:{manual:!0,native:!1,valid:!1,message:"Your card number is incomplete"}},stripeToken:"",showManualErrors:!1,showNativeErrors:!1,showManualPay:!1,nativeIsSupported:!1,isFetchingToken:!1}},computed:{manualIsValid:function(){var e=this;return 0===Object.keys(this.validation).filter(function(t){var a=e.validation[t];return!a.valid&&a.manual}).length},nativeIsValid:function(){var e=this;return 0===Object.keys(this.validation).filter(function(t){var a=e.validation[t];return!a.valid&&a.native}).length},showErrorClue:function(){return!(!this.showManualErrors||this.manualIsValid)||!(!this.showNativeErrors||this.nativeIsValid)},showServerErrorMessage:function(){return!this.showErrorClue&&this.serverErrorMessage}},methods:{onSubmit:function(){this.$refs.form.submit()},setValue:function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){var a=e.key,n=e.value;t[a]=n});else{var a=e.key,n=e.value;this[a]=n}},setValidationValue:function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){var a=e.element,n=e.key,i=e.value;t.validation[a][n]=i});else{var a=e.element,n=e.key,i=e.value;this.validation[a][n]=i}},isEmail:function(e){return void 0===i()({email:e.trim()},{email:{email:!0}})},isURL:function(e){return void 0===i()({website:e.trim()},{website:{url:!0}})},isNumeric:function(e){return void 0===i()({value:e.trim()},{value:{numericality:!0}})},isZip:function(e){return this.isNumeric(e)&&5===e.trim().length},isNotEmpty:function(e){return!i.a.isEmpty(e.trim())},isEmptyOrZip:function(e){return!this.isNotEmpty(e)||this.isZip(e)},isValidDonationAmount:function(e){return void 0===i()({value:e.trim()},{value:{numericality:{greaterThanOrEqualTo:1}}})},isValidReason:function(e){return e.trim().length<=255}}}},Y5Ni:function(e,t,a){"use strict";t.a={methods:{updateStoreValue:function(e){var t=e.storeModule,a=e.key,n=e.value;this.$store.dispatch(t+"/updateValue",{key:a,value:n})}}}},YMgK:function(e,t,a){"use strict";t.a={props:{baseClasses:{type:[String,Array],default:""}},computed:{classes:function(){var e=this.baseClasses;return!!e&&("string"==typeof e?e:Array.isArray(e)?e.join(" "):"")}},methods:{getClasses:function(e){var t=e.obj,a=void 0===t?this:t,n=e.elName,i=a[(void 0===n?"base":n)+"Classes"];if(i){if("string"==typeof i)return i;if(Array.isArray(i))return i.join(" ")}return""}}}},ZVqu:function(e,t,a){"use strict";var n=a("svDN"),i=a("xZX2"),r={name:"ManualPay",components:{Card:n.Card},mixins:[i.a],props:{showError:{type:Boolean,default:!1},validation:{type:Object,required:!0}},data:function(){return{options:{hidePostalCode:!0,iconStyle:"solid"}}},computed:{stripeKey:function(){return window.__STRIPE_KEY__},valid:function(){return this.validation.valid},errorMessage:function(){return this.validation.message},classesWithValidation:function(){var e=this.classes;return!this.showError||this.valid?e:"invalid "+e}},methods:{onChange:function(e){var t=e.error,a=e.empty;t?this.markMessageAndInvalid({element:"card",message:t.message}):a?this.markMessageAndInvalid({element:"card",message:"Your card number is incomplete"}):this.markValid("card")}}},s=a("JFUb"),o=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classesWithValidation},[a("card",{attrs:{options:e.options,stripe:e.stripeKey},on:{change:e.onChange}}),e._v(" "),e.showError&&!e.valid?a("p",{attrs:{role:"alert"}},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]):e._e()],1)},[],!1,null,null,null);t.a=o.exports},iozr:function(e,t,a){"use strict";var n={name:"HiddenInput",mixins:[a("8FK+").a]},i=a("JFUb"),r=Object(i.a)(n,function(){var e=this.$createElement;return(this._self._c||e)("input",{attrs:{name:this.name,type:"hidden"},domProps:{value:this.value}})},[],!1,null,null,null);t.a=r.exports},j8bt:function(e,t,a){"use strict";var n={name:"Level",props:{amountStoreModule:{type:String,required:!0},installmentPeriodStoreModule:{type:String,required:!0}},computed:{level:function(){var e=this.$store.getters[this.amountStoreModule+"/valueByKey"],t=this.$store.getters[this.installmentPeriodStoreModule+"/valueByKey"],a=parseFloat(e("amount").trim()),n=t("installment_period").trim();return"monthly"===n?a>=3&&a<=8?"Informed":a>=9&&a<=41?"Engaged":a>=42&&a<=83?"Involved":a>=84&&a<=208?"Editor's Circle":a>=209&&a<=416?"Leadership Circle":a>=417?"Chairman's Circle":"":"yearly"===n?10===a?"Student":a>=35&&a<=99?"Informed":a>=100&&a<=499?"Engaged":a>=500&&a<=999?"Involved":a>=1e3&&a<=2499?"Editor's Circle":a>=2500&&a<=4999?"Leadership Circle":a>=5e3?"Chairman's Circle":"":""}}},i=a("JFUb"),r=Object(i.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return this.level?t("p",{class:this.classes},[this._v("\n  Your giving level is:\n  "),t("span",[this._v(this._s(this.level))])]):this._e()},[],!1,null,null,null);t.a=r.exports},joBu:function(e,t,a){"use strict";var n=a("Kw5r"),i=a("svDN"),r={name:"ManualSubmit",mixins:[a("xZX2").a],props:{value:{type:String,default:"Submit"},formIsValid:{type:Boolean,required:!0},isFetchingToken:{type:Boolean,required:!0}},data:function(){return{blanketErrorMessage:"\n        There was an issue processing your card.\n        Please try a different card and submit\n        the form again. If the issue persists, contact\n        inquiries@texastribune.org.\n      "}},methods:{markFetchingToken:function(){this.$emit("setValue",{key:"isFetchingToken",value:!0})},markNotFetchingToken:function(){this.$emit("setValue",{key:"isFetchingToken",value:!1})},onClick:function(){var e=this;this.$emit("setValue",[{key:"showManualErrors",value:!0},{key:"showNativeErrors",value:!1},{key:"serverErrorMessage",value:""}]),this.formIsValid&&(this.markFetchingToken(),Object(i.createToken)().then(function(t){if(t.error){var a=t.error,i=a.message,r=a.type,s=void 0;e.markNotFetchingToken(),s="validation_error"===r?i:e.blanketErrorMessage,e.markMessageAndInvalid({element:"card",message:s})}else{var o=t.token.id;e.$emit("setValue",{key:"stripeToken",value:o}),n.a.nextTick(function(){e.$emit("onSubmit")})}}))}}},s=a("JFUb"),o=Object(s.a)(r,function(){var e=this.$createElement;return(this._self._c||e)("input",{class:this.classes,attrs:{disabled:this.isFetchingToken,type:"submit"},domProps:{value:this.value},on:{click:this.onClick}})},[],!1,null,null,null);t.a=o.exports},tU1E:function(e,t,a){"use strict";var n=a("8FK+"),i=a("vyYF"),r={name:"TextInput",mixins:[a("U4gO").a,n.a,i.a],props:{hasLabel:{type:Boolean,default:!0},labelText:{type:String,required:!0},placeholder:{type:String,default:""},required:{type:Boolean,default:!0},type:{type:String,default:"text"}},computed:{connector:function(){return!!this.hasLabel&&"_"+this.randConnector},ariaLabel:function(){return!this.hasLabel&&this.labelText},classesWithValidation:function(){var e=this.classes;return!this.showError||this.valid?e:"invalid "+e}}},s=a("JFUb"),o=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classesWithValidation},[e.hasLabel?a("label",{attrs:{for:e.connector}},[e._v("\n    "+e._s(e.labelText)+"\n  ")]):e._e(),e._v(" "),a("input",{attrs:{id:e.connector,"aria-labelledby":e.ariaLabelledby,"aria-describedby":e.ariaDescribedby,"aria-label":e.ariaLabel,"aria-invalid":!e.valid,"aria-required":e.required,name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:function(t){e.updateSingleValue(t.target.value)}}}),e._v(" "),e.showError&&!e.valid?a("p",{attrs:{role:"alert"}},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]):e._e()])},[],!1,null,null,null);t.a=o.exports},vyYF:function(e,t,a){"use strict";t.a={data:function(){return{randConnector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6;return Math.floor(Math.random()*(t-e+1))+e}()}}}},xZX2:function(e,t,a){"use strict";t.a={methods:{markValid:function(e){this.$emit("setValidationValue",{element:e,key:"valid",value:!0})},markInvalid:function(e){this.$emit("setValidationValue",{element:e,key:"valid",value:!1})},markMessageAndInvalid:function(e){var t=e.element,a=[{element:t,key:"valid",value:!1},{element:t,key:"message",value:e.message}];this.$emit("setValidationValue",a)}}}}}]);